---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/header/header.astro";
---

<BaseLayout>
  <Header slot="header" />
  
  <section class="py-8 md:py-16 w-full px-4">
    <div class="container mx-auto max-w-7xl">
    <!-- T√≠tulo principal -->
    <h1
      class="text-2xl sm:text-3xl md:text-4xl font-bold text-center mb-8 md:mb-12 bg-orange-500 text-white py-3 px-4 md:px-6 rounded-lg transition-colors shadow-md hover:shadow-orange-200"
    >
      Cont√°ctanos o Vis√≠tanos
    </h1>

    <div class="grid md:grid-cols-2 gap-8 md:gap-12 max-w-6xl mx-auto">
      <!-- Formulario -->
      <div class="bg-white p-8 rounded-xl shadow-lg">
        <form class="space-y-6">
          <div>
            <label class="block text-orange-600 font-medium mb-2">Nombre</label>
            <input
              type="text"
              class="w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-orange-300 transition-all"
              placeholder="Tu nombre"
            />
          </div>
          <div>
            <label class="block text-orange-600 font-medium mb-2">Email</label>
            <input
              type="email"
              class="w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-orange-300 transition-all"
              placeholder="tucorreo@ejemplo.com"
            />
          </div>
          <div>
            <label class="block text-orange-600 font-medium mb-2">Mensaje</label
            >
            <textarea
              rows="5"
              class="w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-orange-300 transition-all"
              placeholder="¬øC√≥mo podemos ayudarte?"></textarea>
          </div>
          <button
            type="submit"
            class="w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-lg transition-colors shadow-md hover:shadow-orange-200"
          >
            Enviar Mensaje
          </button>
        </form>
      </div>

      <!-- Info Contacto -->
      <div
        class="bg-orange-50 p-8 rounded-xl shadow-lg border border-orange-100"
      >
        <h2 class="text-2xl font-bold mb-6 text-orange-700">
          Informaci√≥n de Contacto
        </h2>
        <div class="space-y-4 text-gray-700">
          <p class="flex items-center gap-2">
            <span class="bg-orange-100 p-2 rounded-full"> üìû </span>
            <strong class="text-orange-600">Tel√©fono:</strong> +591 77970901
          </p>
          <p class="flex items-center gap-2">
            <span class="bg-orange-100 p-2 rounded-full"> ‚úâÔ∏è </span>
            <strong class="text-orange-600">Email:</strong> info@kukimascotas.com
          </p>
          <p class="flex items-center gap-2">
            <span class="bg-orange-100 p-2 rounded-full"> üìç </span>
            <strong class="text-orange-600">Direcci√≥n:</strong> Av. Roque Aguilera
            2030, Santa Cruz
          </p>
        </div>
      </div>
    </div>

    <!-- Mapa -->
    <div class="mt-16 max-w-6xl mx-auto">
      <h2
        class="text-2xl font-bold mb-6 text-center text-white w-full bg-orange-500 hover:bg-orange-600 py-3 px-6 rounded-lg transition-colors shadow-md hover:text-white"
      >
        Nuestra Ubicaci√≥n
      </h2>
      <div
        class="map-container rounded-xl overflow-hidden shadow-lg border border-orange-100"
      >
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2258.866613727133!2d-63.2045634220665!3d-17.79425004382868!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x93f1c2a74ffec629%3A0x8482b9c7bea2d584!2sAv.%20Roque%20Aguilera%202030%2C%20Santa%20Cruz%20de%20la%20Sierra!5e0!3m2!1ses!2sbo!4v1754356552121!5m2!1ses!2sbo"
          width="100%"
          height="450"
          style="border:0;"
          allowfullscreen
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          class="block"></iframe>
      </div>
    </div>
  </section>

  <!-- Contacto - Formulario accesible -->
  <div class="max-w-md mx-auto p-6 bg-white rounded-lg shadow-md">
    <div class="text-center mb-6">
      <h2 class="text-2xl font-bold text-[#128C7E] mb-2">Cont√°ctanos</h2>
      <p class="text-gray-600">
        ¬øTienes alguna pregunta? Escr√≠benos y te responderemos por WhatsApp.
      </p>
    </div>

    <form id="kukipetsContactForm" class="space-y-4">
      <!-- Nombre -->
      <div>
        <label
          for="name"
          class="block font-semibold text-[#128C7E] mb-1 after:content-['_*'] after:text-red-500"
          >Nombre</label
        >
        <input
          type="text"
          id="name"
          required
          placeholder="Tu nombre completo"
          class="w-full p-3 border-2 border-gray-200 rounded focus:border-[#25D366] focus:outline-none"
        />
      </div>

      <!-- Celular -->
      <div>
        <label
          for="phone"
          class="block font-semibold text-[#128C7E] mb-1 after:content-['_*'] after:text-red-500"
          >N√∫mero de celular</label
        >
        <input
          type="tel"
          id="phone"
          required
          placeholder="Ej. +51 987654321"
          class="w-full p-3 border-2 border-gray-200 rounded focus:border-[#25D366] focus:outline-none"
        />
      </div>

      <!-- Email (opcional) -->
      <div>
        <label for="email" class="block font-semibold text-[#128C7E] mb-1"
          >Correo electr√≥nico</label
        >
        <input
          type="email"
          id="email"
          placeholder="tu@email.com (opcional)"
          class="w-full p-3 border-2 border-gray-200 rounded focus:border-[#25D366] focus:outline-none"
        />
        <p class="text-sm text-gray-400 italic">Este campo es opcional</p>
      </div>

      <!-- Mensaje -->
      <div>
        <label
          for="message"
          class="block font-semibold text-[#128C7E] mb-1 after:content-['_*'] after:text-red-500"
          >Mensaje</label
        >
        <textarea
          id="message"
          required
          placeholder="¬øEn qu√© podemos ayudarte?"
          rows="4"
          class="w-full p-3 border-2 border-gray-200 rounded focus:border-[#25D366] focus:outline-none"
        ></textarea>
      </div>

      <!-- Bot√≥n de enviar -->
      <button
        type="submit"
        class="w-full bg-[#25D366] hover:bg-[#128C7E] text-white font-semibold py-3 px-4 rounded transition-colors"
      >
        <svg
          class="inline mr-2"
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="white"
        >
          <path
            d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"
          ></path>
        </svg>
        Enviar mensaje por WhatsApp
      </button>
    </form>
  </div>
  <br /><br />
  <style>
    .map-container {
      margin: 1rem 0;
      transition: all 0.3s ease;
    }
    .map-container:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(249, 115, 22, 0.1);
    }
  </style>

  <script>
    // Esperar a que el DOM est√© completamente cargado
    document.addEventListener("DOMContentLoaded", function () {
      const form = document.getElementById("kukipetsContactForm");

      if (form) {
        form.addEventListener("submit", function (e) {
          e.preventDefault();

          // Obtener elementos del formulario
          const nameInput = document.getElementById("name");
          const phoneInput = document.getElementById("phone");
          const emailInput = document.getElementById("email");
          const messageInput = document.getElementById("message");

          // Validar que los elementos existan
          if (!nameInput || !phoneInput || !messageInput) {
            console.error("Elementos del formulario no encontrados");
            return;
          }

          // Obtener valores
          const name = nameInput.value.trim();
          const phone = phoneInput.value.replace(/\D/g, "");
          const email = emailInput ? emailInput.value.trim() : "";
          const message = messageInput.value.trim();

          // Validaci√≥n b√°sica
          if (!name || !phone || !message) {
            alert("Por favor, completa todos los campos requeridos");
            return;
          }

          // Construir mensaje para WhatsApp
          let whatsappMessage = encodeURIComponent(
            `Hola Kukipets, mi nombre es ${name}.\n\n` +
              `Mi mensaje: ${message}\n\n` +
              (email ? `Mi correo: ${email}\n\n` : "") +
              `Por favor cont√°ctenme a este n√∫mero: ${phone}`
          );

          // Abrir WhatsApp
          try {
            window.open(
              `https://wa.me/59177970901?text=${whatsappMessage}`,
              "_blank"
            );
            form.reset();
          } catch (error) {
            console.error("Error al abrir WhatsApp:", error);
            alert(
              "Hubo un error al intentar abrir WhatsApp. Por favor, int√©ntalo de nuevo."
            );
          }
        });
      } else {
        console.error("Formulario no encontrado");
      }
    });
  </script>
    </div>
  </section>
</BaseLayout>
