---
import BaseLayout from "../layouts/BaseLayout.astro";
// Elimina esta línea redundante (ya se importa en BaseLayout)
// import "../styles/global.css"; 
import hero from "../../public/img/banner/BANNER 2 KUKI.webp";
import HuesoSano from "../../public/img/img/limpieza-dental.jpg";
import CorazonFuerte from "../../public/img/img/corazon-fuerte.jpg";
import logo from "../../public/img/logo/LOGO-FINAL.svg"; 
import natural100 from "../../public/img/img/100-natural.jpg";
import { Image } from "astro:assets";
---
<BaseLayout>
  <!-- Banner Principal - Imagen más segura  -->
  <section id="inicio" class="relative">
    <!-- Usa el componente Image de Astro para optimización -->
    <Image 
      src={hero}
      alt="Perro feliz comiendo alimento KukiPets" 
      class="w-full object-cover h-[60vh] md:h-[85vh] lg:h-screen mx-auto shadow-md block"
      loading="eager"
    />
    <div class="absolute inset-0 flex items-center justify-center ">
      <h1 class="text-white text-3xl sm:text-4xl md:text-6xl font-bold text-center px-4 drop-shadow-2xl">
        ¡Ellos saben lo delicioso que son!
      </h1>
    </div>
  </section>

  <!-- Quiénes Somos - Mejor estructura semántica -->
  <section id="about" class="py-16 bg-yellow-50 text-center px-6">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-3xl font-bold mb-4 text-yellow-600">Quiénes Somos</h2>
      <p class="text-gray-700 text-lg">
        En KukiPets estamos comprometidos con una alimentación saludable para perros y gatos. 
        Usamos ingredientes 100% naturales para fortalecer su salud y bienestar.
      </p>
    </div>
  </section>

  <!-- Beneficios - Cards más accesibles -->
  <section class="py-16 bg-blue-100 text-center px-4 sm:px-6 md:px-8" aria-labelledby="benefits-heading">
    <h2 id="benefits-heading" class="text-3xl font-bold mb-8 text-yellow-600">Beneficios</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
      <!-- Tarjeta 1 -->
      <article class="p-6 bg-white rounded-lg shadow-lg hover:scale-105 transition-transform duration-300">
        <Image 
          src={natural100} 
          alt="Icono hoja natural" 
          width="200"
          height="200"
          class="mx-auto w-28 sm:w-32 md:w-40 lg:w-48 h-auto object-contain mb-4 drop-shadow-md md:drop-shadow-lg"
          loading="lazy"
        />
        <h3 class="text-xl font-semibold text-gray-800">100% Natural</h3>
        <p class="mt-2 text-gray-600">Sin conservantes ni aditivos artificiales</p>
      </article>
      
      <!-- Tarjeta 2 -->
      <article class="p-6 bg-white rounded-lg shadow-lg hover:scale-105 transition-transform duration-300">
        <Image 
          src={HuesoSano} 
          alt="Icono diente saludable" 
          width="200"
          height="200"
          class="mx-auto w-28 sm:w-32 md:w-40 lg:w-48 h-auto object-contain mb-4 drop-shadow-md md:drop-shadow-lg"
          loading="lazy"
        />
        <h3 class="text-xl font-semibold text-gray-800">Limpieza Dental</h3>
        <p class="mt-2 text-gray-600">Reduce el sarro naturalmente</p>
      </article>
      
      <!-- Tarjeta 3 -->
      <article class="p-6 bg-white rounded-lg shadow-lg hover:scale-105 transition-transform duration-300 relative">
        <Image
          src={CorazonFuerte} 
          alt="Icono corazón mascota" 
          width="400"
          height="400"
          class="mx-auto w-36 sm:w-40 md:w-48 lg:w-56 h-auto object-contain mb-4 drop-shadow-md md:drop-shadow-lg"
          loading="lazy"
        />
        <h3 class="text-xl font-semibold text-gray-800">Vínculo Fuerte</h3>
        <p class="mt-2 text-gray-600">Tu mascota se sentirá más feliz y contenta con KukiPets</p>
        <Image
          src={logo} 
          alt="Mascota Kuki" 
          width="112"
          height="112"
          class="absolute bottom-2 right-2 w-20 sm:w-24 md:w-28 animate-bounce"
          loading="lazy"
        />
      </article>
    </div>
    <a 
      href="/productos" 
      class="mt-12 inline-block bg-yellow-500 hover:bg-yellow-400 text-white font-bold py-3 px-8 rounded-full shadow-md transition-colors focus:ring-2 focus:ring-yellow-600 focus:outline-none"
    >
      Conoce nuestros productos
    </a>
  </section>

  <!-- Testimonios - Mejor semántica -->
  <section class="py-16 bg-white px-6" aria-labelledby="testimonials-heading">
    <h2 id="testimonials-heading" class="text-3xl font-bold text-center mb-8 text-yellow-600">Lo que dicen nuestros clientes</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto">
      <!-- Opinión 1 -->
      <blockquote class="bg-yellow-50 p-6 rounded-lg shadow border border-yellow-100">
        <p class="italic text-gray-700">"A mi perro le encanta KukiPets. Ya no quiere otra cosa."</p>
        <footer class="mt-4 text-yellow-500 text-xl">★★★★★ <span class="text-sm text-gray-600">- María G.</span></footer>
      </blockquote>
      
      <!-- Opinión 2 -->
      <blockquote class="bg-yellow-50 p-6 rounded-lg shadow border border-yellow-100">
        <p class="italic text-gray-700">"Desde que come Kuki, mi gato está más activo y feliz."</p>
        <footer class="mt-4 text-yellow-500 text-xl">★★★★★ <span class="text-sm text-gray-600">- Carlos M.</span></footer>
      </blockquote>
      
      <!-- Opinión 3 -->
      <blockquote class="bg-yellow-50 p-6 rounded-lg shadow border border-yellow-100">
        <p class="italic text-gray-700">"El empaque, el sabor, el efecto: todo excelente."</p>
        <footer class="mt-4 text-yellow-500 text-xl">★★★★☆ <span class="text-sm text-gray-600">- Laura T.</span></footer>
      </blockquote>
    </div>
  </section>

  <!-- Contacto - Formulario accesible -->
   <br><br>
<div class="max-w-md mx-auto p-6 bg-white rounded-lg shadow-md">
  <div class="text-center mb-6">
    <h2 class="text-2xl font-bold text-[#128C7E] mb-2">Contáctanos</h2>
    <p class="text-gray-600">¿Tienes alguna pregunta? Escríbenos y te responderemos por WhatsApp.</p>
  </div>

  <form id="kukipetsContactForm" class="space-y-4">
    <!-- Nombre -->
    <div>
      <label for="name" class="block font-semibold text-[#128C7E] mb-1 after:content-['_*'] after:text-red-500">Nombre</label>
      <input type="text" id="name" required placeholder="Tu nombre completo" 
             class="w-full p-3 border-2 border-gray-200 rounded focus:border-[#25D366] focus:outline-none">
    </div>

    <!-- Celular -->
    <div>
      <label for="phone" class="block font-semibold text-[#128C7E] mb-1 after:content-['_*'] after:text-red-500">Número de celular</label>
      <input type="tel" id="phone" required placeholder="Ej. +51 987654321" 
             class="w-full p-3 border-2 border-gray-200 rounded focus:border-[#25D366] focus:outline-none">
    </div>

    <!-- Email (opcional) -->
    <div>
      <label for="email" class="block font-semibold text-[#128C7E] mb-1">Correo electrónico</label>
      <input type="email" id="email" placeholder="tu@email.com (opcional)" 
             class="w-full p-3 border-2 border-gray-200 rounded focus:border-[#25D366] focus:outline-none">
      <p class="text-sm text-gray-400 italic">Este campo es opcional</p>
    </div>

    <!-- Mensaje -->
    <div>
      <label for="message" class="block font-semibold text-[#128C7E] mb-1 after:content-['_*'] after:text-red-500">Mensaje</label>
      <textarea id="message" required placeholder="¿En qué podemos ayudarte?" rows="4"
                class="w-full p-3 border-2 border-gray-200 rounded focus:border-[#25D366] focus:outline-none"></textarea>
    </div>

    <!-- Botón de enviar -->
    <button type="submit" 
            class="w-full bg-[#25D366] hover:bg-[#128C7E] text-white font-semibold py-3 px-4 rounded transition-colors">
      <svg class="inline mr-2" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="white">
        <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/>
      </svg>
      Enviar mensaje por WhatsApp
    </button>
  </form>
</div>
<br><br>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('kukipetsContactForm');
    
    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Obtener valores
        const name = document.getElementById('name').value.trim();
        const phone = document.getElementById('phone').value.replace(/\D/g, '');
        const email = document.getElementById('email').value.trim();
        const message = document.getElementById('message').value.trim();
        
        // Validación básica
        if (!name || !phone || !message) {
          alert('Por favor, completa todos los campos requeridos');
          return;
        }

        // Construir mensaje para WhatsApp (formato corregido)
        const whatsappMessage = encodeURIComponent(
          `Hola Kukipets, mi nombre es ${name}\n\n` +
          `Mi mensaje: ${message}\n\n` +
          `Mi número: ${phone}` +
          (email ? `\n\nMi correo: ${email}` : '')
        );
        
        // Abrir WhatsApp con el mensaje
        window.open(`https://wa.me/59177970901?text=${whatsappMessage}`, '_blank');
        
        // Limpiar el formulario después del envío
        form.reset();
      });
    }
  });
</script>
</BaseLayout>